angular.module("orggue",["ui.router","ngRoute","ngAnimate"]).constant("Config",{apiBase:"/api/",baseViews:"../views/"}).config(function(Config,$stateProvider,$urlRouterProvider,$locationProvider){$stateProvider.state("work",{url:"/work",controller:"workCtrl",templateUrl:Config.baseViews+"element/work.html"}).state("live",{url:"/live",controller:"liveCtrl",templateUrl:Config.baseViews+"element/live.html"}).state("home",{url:"/",templateUrl:Config.baseViews+"element/home.html"}),$urlRouterProvider.otherwise("/work"),$locationProvider.html5Mode(!0)}).run(function(Colors,middleware){Colors.setHeaderColor(Colors.getRandomColor()),middleware.setFilter("url","github/repos"),middleware.github()}),angular.module("orggue").controller("liveCtrl",function($scope,middleware){$scope.instagram=[];var getImages=function(){middleware.setFilter("url","instagarm/media"),middleware.instagram()};getImages(),$scope.$on("StartInsta",function(){$scope.instagram=[]}),$scope.$on("EndInsta",function(err,data){angular.forEach(data.insta,function(picture){$scope.instagram.push(picture)})})}),angular.module("orggue").controller("workCtrl",function($scope,middleware){$scope.repos=[],$scope.$on("StartGithub",function(){$scope.repos=[]}),$scope.$on("EndGithub",function(err,data){angular.forEach(data.repos,function(repo){$scope.repos.push(repo)})})}),angular.module("orggue").directive("github",function(Config){return{restrict:"E",replace:!0,templateUrl:Config.baseViews+"github/index.html",controller:function($scope){$scope.repos=[],$scope.$on("StartGithub",function(){$scope.repos=[]}),$scope.$on("EndGithub",function(err,data){angular.forEach(data.repos,function(repo){$scope.repos.push(repo)})})}}}),angular.module("orggue").directive("orggueheader",function(Config){return{restrict:"E",replace:!0,templateUrl:Config.baseViews+"element/header.html",controller:function($scope,Colors,Sentence){$scope.changeQA=function(){var sentence=Sentence.getRandomSentence();$scope.question=sentence[0],$scope.answer=sentence[1]},$scope.changeQA(),$scope.color=Colors.getHeaderColor(),Array.prototype.inArray=function(comparer){for(var i=0;i<this.length;i++)if(comparer(this[i]))return this[i].count++,!0;return!1},Array.prototype.pushIfNotExist=function(element,comparer){this.inArray(comparer)||this.push(element)},$scope.$on("EndGithub",function(err,data){var total=0;$scope.languages=[],angular.forEach(data.repos,function(repo){if(null!==repo.language){var element={name:repo.language,color:Colors.getColor(repo.language),count:1};$scope.languages.pushIfNotExist(element,function(e){return e.name===element.name&&e.color===element.color}),total++}}),$scope.width=100/total})}}}),angular.module("orggue").directive("instagram",function(Config){return{restrict:"E",replace:!0,scope:{picture:"="},templateUrl:Config.baseViews+"instagram/index.html",controller:function($scope){}}}),angular.module("orggue").filter("linkUsername",function(randomcolor){return function(text){return'<a class="hashtag-link" href="http://twitter.com/'+text.slice(1)+'">'+text+"</a>"}}).filter("linkHashtag",function(){return function(text){return'<a class="hashtag-link" href="http://twitter.com/search/%23'+text.slice(1)+'">'+text+"</a>"}}).filter("tweet",function(){return function(text){var urlRegex=/((https?:\/\/)?[\w-]+(\.[\w-]+)+\.?(:\d+)?(\/\S*)?)/g,twitterUserRegex=/@([a-zA-Z0-9_]{1,20})/g,twitterHashTagRegex=/\B#(\w+)/g;return text=text.replace(urlRegex," <a class='hashtag-link' href='$&' target='_blank'>$&</a>").trim(),text=text.replace(twitterUserRegex,"<a class='hashtag-link' href='http://www.twitter.com/$1' target='_blank'>@$1</a>"),text=text.replace(twitterHashTagRegex,"<a class='hashtag-link' href='http://twitter.com/search/%23$1' target='_blank'>#$1</a>")}}),angular.module("orggue").service("api",function($http,$q,Config){return{call:function(url,params,data,callback,method){method=method?method:"GET";var canceler=$q.defer();return $http({url:Config.apiBase+url,method:method,params:params,timeout:canceler.promise,data:data}).success(function(data,status){"function"==typeof callback&&callback(data)}),{cancel:function(){canceler.resolve()}}}}}),angular.module("orggue").service("Colors",function(){var headerColor,colors={Mercury:"#ff2b2b",TypeScript:"#2b7489",PureBasic:"#5a6986","Objective-C++":"#6866fb",Self:"#0579aa",edn:"#db5855",NewLisp:"#87AED7",Rebol:"#358a5b",Frege:"#00cafe",Dart:"#00B4AB",AspectJ:"#a957b0",Shell:"#89e051","Web Ontology Language":"#9cc9dd",xBase:"#403a40",Eiffel:"#946d57",Nix:"#7e7eff",RAML:"#77d9fb",MTML:"#b7e1f4",Elixir:"#6e4a7e",SAS:"#B34936",Agda:"#315665",wisp:"#7582D1",D:"#fcd46d",Kotlin:"#EA4DFA",Opal:"#f7ede0",Crystal:"#776791","Objective-C":"#438eff","ColdFusion CFC":"#ed2cd6",Oz:"#fab738",Mirah:"#c7a938","Objective-J":"#ff0c5a",Handlebars:"#01a9d6",Gosu:"#82937f",Ruby:"#701516","Component Pascal":"#b0ce4e",Arc:"#aa2afe",Brainfuck:"#2F2530",Nit:"#009917",APL:"#5A8164",Go:"#375eab","Visual Basic":"#945db7",PHP:"#4F5D95",Cirru:"#ccccff",SQF:"#3F3F3F",Glyph:"#e4cc98",Java:"#b07219",Scala:"#7dd3b0",Makefile:"#427819",ColdFusion:"#ed2cd6",Perl:"#0298c3",Lua:"#000080",Verilog:"#b2b7f8",Factor:"#636746",Haxe:"#f7941e","Pure Data":"#91de79",Forth:"#341708",Red:"#ee0000",Hy:"#7790B2",Volt:"#1F1F1F",LSL:"#3d9970",eC:"#913960",CoffeeScript:"#244776",HTML:"#e44b23","API Blueprint":"#2ACCA8",Swift:"#ffac45",C:"#555555",AutoHotkey:"#6594b9",Isabelle:"#FEFE00",Clarion:"#db901e",Boo:"#d4bec1",AutoIt:"#1C3552",Clojure:"#db5855",Rust:"#dea584",Prolog:"#74283c",SourcePawn:"#5c7611",AMPL:"#E6EFBB",FORTRAN:"#4d41b1",ANTLR:"#9DC3FF",Harbour:"#0e60e3",Tcl:"#e4cc98",BlitzMax:"#cd6400",PigLatin:"#fcd7de",Lasso:"#999999",ECL:"#8a1267",VHDL:"#adb2cb",Elm:"#60B5CC","Propeller Spin":"#7fa2a7",IDL:"#a3522f",ATS:"#1ac620",Ada:"#02f88c",Nu:"#c9df40",LFE:"#004200",SuperCollider:"#46390b",Oxygene:"#cdd0e3",ASP:"#6a40fd",Assembly:"#6E4C13",Gnuplot:"#f0a9f0",JFlex:"#DBCA00",NetLinx:"#0aa0ff","C#":"#178600",Turing:"#45f715",Vala:"#fbe5cd",Processing:"#0096D8",Arduino:"#bd79d1",FLUX:"#88ccff",NetLogo:"#ff6375",CSS:"#563d7c","Emacs Lisp":"#c065db",SaltStack:"#646464",QML:"#44a51c",Pike:"#005390",LOLCODE:"#cc9900",ooc:"#b0b77e",XC:"#99DA07",J:"#9EEDFF",Mask:"#f97732",EmberScript:"#FFF4F3",TeX:"#3D6117",Nemerle:"#3d3c6e",KRL:"#28431f","Unified Parallel C":"#4e3617",Golo:"#88562A",Fancy:"#7b9db4",OCaml:"#3be133",Shen:"#120F14",Pascal:"#b0ce4e","F#":"#b845fc",Puppet:"#332A77",ActionScript:"#882B0F",Diff:"#88dddd","Ragel in Ruby Host":"#e17600",Fantom:"#dbded5",Zephir:"#118f9e",Smalltalk:"#596706",DM:"#447265",Ioke:"#078193",PogoScript:"#d80074",LiveScript:"#499886",JavaScript:"#f1e05a",VimL:"#199f4b",PureScript:"#1D222D",ABAP:"#E8274B",Matlab:"#bb92ac",Slash:"#007eff",R:"#198ce7",Erlang:"#B83998",Pan:"#cc0000",LookML:"#652B81",Eagle:"#814C05",Scheme:"#1e4aec",Squirrel:"#800000",Python:"#3572A5",Max:"#c4a79c","Common Lisp":"#3fb68b",Latte:"#A8FF97",XQuery:"#5232e7",Omgrofl:"#cabbff",Nimrod:"#37775b",SystemVerilog:"#DAE1C2",Chapel:"#8dc63f",Groovy:"#e69f56",Dylan:"#6c616e",E:"#ccce35",Parrot:"#f3ca0a","Grammatical Framework":"#79aa7a","Game Maker Language":"#8fb200",Papyrus:"#6600cc","C++":"#f34b7d","NetLinx+ERB":"#747faa",Clean:"#3F85AF",Alloy:"#cc5c24",PAWN:"#dbb284",UnrealScript:"#a54c4d","Standard ML":"#dc566d",Slim:"#ff8f77",Perl6:"#0000fb",Julia:"#a270ba",Haskell:"#29b544",Io:"#a9188d",Rouge:"#cc0088",Racket:"#22228f","AGS Script":"#B9D9FF",Dogescript:"#cca760",nesC:"#94B0C7"},mainColors=["#6caff1","#ff5967","#ff794d","#5082e5","#be5fb6","#33ccbe","#ffaf40","#68bf60","#cccc52","#7870cc","#548899"];return{colors:colors,getRandomColor:function(){var index=Math.floor(Math.random()*mainColors.length);return mainColors[index]},getColor:function(key){return colors[key]},setHeaderColor:function(randomColor){headerColor=randomColor},getHeaderColor:function(){return headerColor}}}),angular.module("orggue").service("middleware",function($http,api,$rootScope){var backupGithub=[],backupInstagram=[],filters={url:"github/repos",reponame:""},github=function(filters,callback){var params={reponame:filters.reponame};return api.call(filters.url,params,{},function(data){"function"==typeof callback&&callback(data)})},instagram=function(filters,callback){var params={};return api.call(filters.url,params,{},function(data){"function"==typeof callback&&callback(data)})};return{github:function(){$rootScope.$broadcast("StartGithub");var repo=github(filters,function(data){$rootScope.$broadcast("EndGithub",{repos:data})});backupGithub.push(repo)},instagram:function(){$rootScope.$broadcast("StartInsta");var picture=instagram(filters,function(data){$rootScope.$broadcast("EndInsta",{insta:data})});backupInstagram.push(picture)},setFilter:function(key,value){filters[key]=value},getFilter:function(key){return filters[key]},getAllFilters:function(){return filters},filters:filters}}),angular.module("orggue").service("Sentence",function(){var question=["Who is Jorge Chato?","What is your love?","What would you like do next?","What is your favourite quote?","What is your goal?","What is your favourite sentence?","Where did you work?","What kind of man are you?","What are you going to do tomorrow?"],answer=["i'm a sporty developer","do sport outside and javascript","build awesome platforms, don't matter where","without goals you can't score","DO MORE","WORK HARD","Spain and currently working in Amsterdam","the one who never give up","learn something new"];return{question:question,answer:answer,getRandomSentence:function(){var index=Math.floor(Math.random()*question.length);return[question[index],answer[index]]}}});